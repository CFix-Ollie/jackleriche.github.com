(function(e){var t=function(){throw"UID cannot be instantiated"};t._nextID=0;t.get=function(){return t._nextID++};e.UID=t})(createjs||(createjs={}));var createjs;(function(e){var t=function(){throw"Ticker cannot be instantiated."};t.useRAF=null;t.animationTarget=null;t._listeners=null;t._pauseable=null;t._paused=!1;t._inited=!1;t._startTime=0;t._pausedTime=0;t._ticks=0;t._pausedTickers=0;t._interval=50;t._lastTime=0;t._times=null;t._tickTimes=null;t._rafActive=!1;t._timeoutID=null;t.addListener=function(e,n){e!=null&&(t._inited||t.init(),t.removeListener(e),t._pauseable[t._listeners.length]=n==null?!0:n,t._listeners.push(e))};t.init=function(){t._inited=!0;t._times=[];t._tickTimes=[];t._pauseable=[];t._listeners=[];t._times.push(t._lastTime=t._startTime=t._getTime());t.setInterval(t._interval)};t.removeListener=function(e){t._listeners!=null&&(e=t._listeners.indexOf(e),e!=-1&&(t._listeners.splice(e,1),t._pauseable.splice(e,1)))};t.removeAllListeners=function(){t._listeners=[];t._pauseable=[]};t.setInterval=function(e){t._interval=e;t._inited&&t._setupTick()};t.getInterval=function(){return t._interval};t.setFPS=function(e){t.setInterval(1e3/e)};t.getFPS=function(){return 1e3/t._interval};t.getMeasuredFPS=function(e){if(t._times.length<2)return-1;e==null&&(e=t.getFPS()|0);e=Math.min(t._times.length-1,e);return 1e3/((t._times[0]-t._times[e])/e)};t.setPaused=function(e){t._paused=e};t.getPaused=function(){return t._paused};t.getTime=function(e){return t._getTime()-t._startTime-(e?t._pausedTime:0)};t.getTicks=function(e){return t._ticks-(e?t._pausedTickers:0)};t._handleAF=function(e){t._rafActive=!1;t._setupTick();e-t._lastTime>=t._interval-1&&t._tick()};t._handleTimeout=function(){t.timeoutID=null;t._setupTick();t._tick()};t._setupTick=function(){if(!t._rafActive&&t.timeoutID==null){if(t.useRAF){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(e){e(t._handleAF,t.animationTarget);t._rafActive=!0;return}}t.timeoutID=setTimeout(t._handleTimeout,t._interval)}};t._tick=function(){t._ticks++;var e=t._getTime(),n=e-t._lastTime,r=t._paused;r&&(t._pausedTickers++,t._pausedTime+=n);t._lastTime=e;for(var i=t._pauseable,s=t._listeners.slice(),o=s?s.length:0,u=0;u<o;u++){var a=s[u];a==null||r&&i[u]||(a.tick?a.tick(n,r):a instanceof Function&&a(n,r))}for(t._tickTimes.unshift(t._getTime()-e);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(e);t._times.length>100;)t._times.pop()};t._getTime=function(){return(new Date).getTime()};e.Ticker=t})(createjs||(createjs={}));(function(e){var t=function(e,t,n,r,i){this.initialize(e,t,n,r,i)},n=t.prototype;n.stageX=0;n.stageY=0;n.type=null;n.nativeEvent=null;n.onMouseMove=null;n.onMouseUp=null;n.target=null;n.pointerID=0;n.primary=!1;n.initialize=function(e,t,n,r,i,s,o){this.type=e;this.stageX=t;this.stageY=n;this.target=r;this.nativeEvent=i;this.pointerID=s;this.primary=o};n.clone=function(){return new t(this.type,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary)};n.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};e.MouseEvent=t})(createjs||(createjs={}));(function(e){var t=function(e,t,n,r,i,s){this.initialize(e,t,n,r,i,s)},n=t.prototype;t.identity=null;t.DEG_TO_RAD=Math.PI/180;n.a=1;n.b=0;n.c=0;n.d=1;n.tx=0;n.ty=0;n.alpha=1;n.shadow=null;n.compositeOperation=null;n.initialize=function(e,t,n,r,i,s){e!=null&&(this.a=e);this.b=t||0;this.c=n||0;r!=null&&(this.d=r);this.tx=i||0;this.ty=s||0;return this};n.prepend=function(e,t,n,r,i,s){var o=this.tx;if(e!=1||t!=0||n!=0||r!=1){var u=this.a,a=this.c;this.a=u*e+this.b*n;this.b=u*t+this.b*r;this.c=a*e+this.d*n;this.d=a*t+this.d*r}this.tx=o*e+this.ty*n+i;this.ty=o*t+this.ty*r+s;return this};n.append=function(e,t,n,r,i,s){var o=this.a,u=this.b,a=this.c,f=this.d;this.a=e*o+t*a;this.b=e*u+t*f;this.c=n*o+r*a;this.d=n*u+r*f;this.tx=i*o+s*a+this.tx;this.ty=i*u+s*f+this.ty;return this};n.prependMatrix=function(e){this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty);this.prependProperties(e.alpha,e.shadow,e.compositeOperation);return this};n.appendMatrix=function(e){this.append(e.a,e.b,e.c,e.d,e.tx,e.ty);this.appendProperties(e.alpha,e.shadow,e.compositeOperation);return this};n.prependTransform=function(e,n,r,i,s,o,u,a,f){if(s%360)var l=s*t.DEG_TO_RAD,s=Math.cos(l),l=Math.sin(l);else s=1,l=0;if(a||f)this.tx-=a,this.ty-=f;o||u?(o*=t.DEG_TO_RAD,u*=t.DEG_TO_RAD,this.prepend(s*r,l*r,-l*i,s*i,0,0),this.prepend(Math.cos(u),Math.sin(u),-Math.sin(o),Math.cos(o),e,n)):this.prepend(s*r,l*r,-l*i,s*i,e,n);return this};n.appendTransform=function(e,n,r,i,s,o,u,a,f){if(s%360)var l=s*t.DEG_TO_RAD,s=Math.cos(l),l=Math.sin(l);else s=1,l=0;o||u?(o*=t.DEG_TO_RAD,u*=t.DEG_TO_RAD,this.append(Math.cos(u),Math.sin(u),-Math.sin(o),Math.cos(o),e,n),this.append(s*r,l*r,-l*i,s*i,0,0)):this.append(s*r,l*r,-l*i,s*i,e,n);if(a||f)this.tx-=a*this.a+f*this.c,this.ty-=a*this.b+f*this.d;return this};n.rotate=function(e){var t=Math.cos(e),e=Math.sin(e),n=this.a,r=this.c,i=this.tx;this.a=n*t-this.b*e;this.b=n*e+this.b*t;this.c=r*t-this.d*e;this.d=r*e+this.d*t;this.tx=i*t-this.ty*e;this.ty=i*e+this.ty*t;return this};n.skew=function(e,n){e*=t.DEG_TO_RAD;n*=t.DEG_TO_RAD;this.append(Math.cos(n),Math.sin(n),-Math.sin(e),Math.cos(e),0,0);return this};n.scale=function(e,t){this.a*=e;this.d*=t;this.tx*=e;this.ty*=t;return this};n.translate=function(e,t){this.tx+=e;this.ty+=t;return this};n.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;this.shadow=this.compositeOperation=null;return this};n.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,s=e*r-t*n;this.a=r/s;this.b=-t/s;this.c=-n/s;this.d=e/s;this.tx=(n*this.ty-r*i)/s;this.ty=-(e*this.ty-t*i)/s;return this};n.isIdentity=function(){return this.tx==0&&this.ty==0&&this.a==1&&this.b==0&&this.c==0&&this.d==1};n.decompose=function(e){e==null&&(e={});e.x=this.tx;e.y=this.ty;e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),r=Math.atan2(this.b,this.a);n==r?(e.rotation=r/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=n/t.DEG_TO_RAD,e.skewY=r/t.DEG_TO_RAD);return e};n.reinitialize=function(e,t,n,r,i,s,o,u,a){this.initialize(e,t,n,r,i,s);this.alpha=o||1;this.shadow=u;this.compositeOperation=a;return this};n.appendProperties=function(e,t,n){this.alpha*=e;this.shadow=t||this.shadow;this.compositeOperation=n||this.compositeOperation;return this};n.prependProperties=function(e,t,n){this.alpha*=e;this.shadow=this.shadow||t;this.compositeOperation=this.compositeOperation||n;return this};n.clone=function(){var e=new t(this.a,this.b,this.c,this.d,this.tx,this.ty);e.shadow=this.shadow;e.alpha=this.alpha;e.compositeOperation=this.compositeOperation;return e};n.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};t.identity=new t(1,0,0,1,0,0);e.Matrix2D=t})(createjs||(createjs={}));(function(e){var t=function(e,t){this.initialize(e,t)},n=t.prototype;n.x=0;n.y=0;n.initialize=function(e,t){this.x=e==null?0:e;this.y=t==null?0:t};n.clone=function(){return new t(this.x,this.y)};n.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};e.Point=t})(createjs||(createjs={}));(function(e){var t=function(e,t,n,r){this.initialize(e,t,n,r)},n=t.prototype;n.x=0;n.y=0;n.width=0;n.height=0;n.initialize=function(e,t,n,r){this.x=e==null?0:e;this.y=t==null?0:t;this.width=n==null?0:n;this.height=r==null?0:r};n.clone=function(){return new t(this.x,this.y,this.width,this.height)};n.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};e.Rectangle=t})(createjs||(createjs={}));(function(e){var t=function(e,t,n,r){this.initialize(e,t,n,r)},n=t.prototype;t.identity=null;n.color=null;n.offsetX=0;n.offsetY=0;n.blur=0;n.initialize=function(e,t,n,r){this.color=e;this.offsetX=t;this.offsetY=n;this.blur=r};n.toString=function(){return"[Shadow]"};n.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)};t.identity=new t("transparent",0,0,0);e.Shadow=t})(createjs||(createjs={}));(function(e){var t=function(e){this.initialize(e)},n=t.prototype;n.complete=!0;n.onComplete=null;n._animations=null;n._frames=null;n._images=null;n._data=null;n._loadCount=0;n._frameHeight=0;n._frameWidth=0;n._numFrames=0;n._regX=0;n._regY=0;n.initialize=function(t){var n,r,s;if(t!=null){if(t.images&&(r=t.images.length)>0){s=this._images=[];for(n=0;n<r;n++){var o=t.images[n];if(typeof o=="string"){var u=o,o=new Image;o.src=u}s.push(o);!o.getContext&&!o.complete&&(this._loadCount++,this.complete=!1,function(e){o.onload=function(){e._handleImageLoad()}}(this))}}if(t.frames!=null)if(t.frames instanceof Array){this._frames=[];s=t.frames;for(n=0,r=s.length;n<r;n++)u=s[n],this._frames.push({image:this._images[u[4]?u[4]:0],rect:new e.Rectangle(u[0],u[1],u[2],u[3]),regX:u[5]||0,regY:u[6]||0})}else r=t.frames,this._frameWidth=r.width,this._frameHeight=r.height,this._regX=r.regX||0,this._regY=r.regY||0,this._numFrames=r.count,this._loadCount==0&&this._calculateFrames();if((r=t.animations)!=null){this._animations=[];this._data={};for(var a in r){t={name:a};u=r[a];if(isNaN(u))if(u instanceof Array){t.frequency=u[3];t.next=u[2];s=t.frames=[];for(n=u[0];n<=u[1];n++)s.push(n)}else t.frequency=u.frequency,t.next=u.next,n=u.frames,s=t.frames=isNaN(n)?n.slice(0):[n];else s=t.frames=[u];t.next=s.length<2||t.next==0?null:t.next==null||t.next==1?a:t.next;t.frequency||(t.frequency=1);this._animations.push(a);this._data[a]=t}}}};n.getNumFrames=function(e){return e==null?this._frames?this._frames.length:this._numFrames:(e=this._data[e],e==null?0:e.frames.length)};n.getAnimations=function(){return this._animations.slice(0)};n.getAnimation=function(e){return this._data[e]};n.getFrame=function(e){return this.complete&&this._frames&&(frame=this._frames[e])?frame:null};n.toString=function(){return"[SpriteSheet]"};n.clone=function(){var e=new t;e.complete=this.complete;e._animations=this._animations;e._frames=this._frames;e._images=this._images;e._data=this._data;e._frameHeight=this._frameHeight;e._frameWidth=this._frameWidth;e._numFrames=this._numFrames;e._loadCount=this._loadCount;return e};n._handleImageLoad=function(){--this._loadCount==0&&(this._calculateFrames(),this.complete=!0,this.onComplete&&this.onComplete())};n._calculateFrames=function(){if(!this._frames&&this._frameWidth!=0){this._frames=[];for(var t=0,n=this._frameWidth,r=this._frameHeight,s=0,o=this._images;s<o.length;s++){for(var u=o[s],a=(u.width+1)/n|0,f=(u.height+1)/r|0,f=this._numFrames>0?Math.min(this._numFrames-t,a*f):a*f,l=0;l<f;l++)this._frames.push({image:u,rect:new e.Rectangle(l%a*n,(l/a|0)*r,n,r),regX:this._regX,regY:this._regY});t+=f}this._numFrames=t}};e.SpriteSheet=t})(createjs||(createjs={}));(function(e){function t(e,t,n){this.f=e;this.params=t;this.path=n==null?!0:n}t.prototype.exec=function(e){this.f.apply(e,this.params)};var n=function(){this.initialize()},r=n.prototype;n.getRGB=function(e,t,n,r){e!=null&&n==null&&(r=t,n=e&255,t=e>>8&255,e=e>>16&255);return r==null?"rgb("+e+","+t+","+n+")":"rgba("+e+","+t+","+n+","+r+")"};n.getHSL=function(e,t,n,r){return r==null?"hsl("+e%360+","+t+"%,"+n+"%)":"hsla("+e%360+","+t+"%,"+n+"%,"+r+")"};n.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};n.STROKE_CAPS_MAP=["butt","round","square"];n.STROKE_JOINTS_MAP=["miter","round","bevel"];n._ctx=document.createElement("canvas").getContext("2d");n.beginCmd=new t(n._ctx.beginPath,[],!1);n.fillCmd=new t(n._ctx.fill,[],!1);n.strokeCmd=new t(n._ctx.stroke,[],!1);r._strokeInstructions=null;r._strokeStyleInstructions=null;r._fillInstructions=null;r._instructions=null;r._oldInstructions=null;r._activeInstructions=null;r._active=!1;r._dirty=!1;r.initialize=function(){this.clear();this._ctx=n._ctx};r.draw=function(e){this._dirty&&this._updateInstructions();for(var t=this._instructions,n=0,r=t.length;n<r;n++)t[n].exec(e)};r.drawAsPath=function(e){this._dirty&&this._updateInstructions();for(var t,n=this._instructions,r=0,i=n.length;r<i;r++)((t=n[r]).path||r==0)&&t.exec(e)};r.moveTo=function(e,n){this._activeInstructions.push(new t(this._ctx.moveTo,[e,n]));return this};r.lineTo=function(e,n){this._dirty=this._active=!0;this._activeInstructions.push(new t(this._ctx.lineTo,[e,n]));return this};r.arcTo=function(e,n,r,i,s){this._dirty=this._active=!0;this._activeInstructions.push(new t(this._ctx.arcTo,[e,n,r,i,s]));return this};r.arc=function(e,n,r,i,s,o){this._dirty=this._active=!0;o==null&&(o=!1);this._activeInstructions.push(new t(this._ctx.arc,[e,n,r,i,s,o]));return this};r.quadraticCurveTo=function(e,n,r,i){this._dirty=this._active=!0;this._activeInstructions.push(new t(this._ctx.quadraticCurveTo,[e,n,r,i]));return this};r.bezierCurveTo=function(e,n,r,i,s,o){this._dirty=this._active=!0;this._activeInstructions.push(new t(this._ctx.bezierCurveTo,[e,n,r,i,s,o]));return this};r.rect=function(e,n,r,i){this._dirty=this._active=!0;this._activeInstructions.push(new t(this._ctx.rect,[e,n,r,i]));return this};r.closePath=function(){this._active&&(this._dirty=!0,this._activeInstructions.push(new t(this._ctx.closePath,[])));return this};r.clear=function(){this._instructions=[];this._oldInstructions=[];this._activeInstructions=[];this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=null;this._active=this._dirty=!1;return this};r.beginFill=function(e){this._active&&this._newPath();this._fillInstructions=e?[new t(this._setProp,["fillStyle",e],!1)]:null;return this};r.beginLinearGradientFill=function(e,n,r,i,s,o){this._active&&this._newPath();r=this._ctx.createLinearGradient(r,i,s,o);i=0;for(s=e.length;i<s;i++)r.addColorStop(n[i],e[i]);this._fillInstructions=[new t(this._setProp,["fillStyle",r],!1)];return this};r.beginRadialGradientFill=function(e,n,r,i,s,o,u,a){this._active&&this._newPath();r=this._ctx.createRadialGradient(r,i,s,o,u,a);i=0;for(s=e.length;i<s;i++)r.addColorStop(n[i],e[i]);this._fillInstructions=[new t(this._setProp,["fillStyle",r],!1)];return this};r.beginBitmapFill=function(e,n){this._active&&this._newPath();var r=this._ctx.createPattern(e,n||"");this._fillInstructions=[new t(this._setProp,["fillStyle",r],!1)];return this};r.endFill=function(){return this.beginFill()};r.setStrokeStyle=function(e,r,i,s){this._active&&this._newPath();this._strokeStyleInstructions=[new t(this._setProp,["lineWidth",e==null?"1":e],!1),new t(this._setProp,["lineCap",r==null?"butt":isNaN(r)?r:n.STROKE_CAPS_MAP[r]],!1),new t(this._setProp,["lineJoin",i==null?"miter":isNaN(i)?i:n.STROKE_JOINTS_MAP[i]],!1),new t(this._setProp,["miterLimit",s==null?"10":s],!1)];return this};r.beginStroke=function(e){this._active&&this._newPath();this._strokeInstructions=e?[new t(this._setProp,["strokeStyle",e],!1)]:null;return this};r.beginLinearGradientStroke=function(e,n,r,i,s,o){this._active&&this._newPath();r=this._ctx.createLinearGradient(r,i,s,o);i=0;for(s=e.length;i<s;i++)r.addColorStop(n[i],e[i]);this._strokeInstructions=[new t(this._setProp,["strokeStyle",r],!1)];return this};r.beginRadialGradientStroke=function(e,n,r,i,s,o,u,a){this._active&&this._newPath();r=this._ctx.createRadialGradient(r,i,s,o,u,a);i=0;for(s=e.length;i<s;i++)r.addColorStop(n[i],e[i]);this._strokeInstructions=[new t(this._setProp,["strokeStyle",r],!1)];return this};r.beginBitmapStroke=function(e,n){this._active&&this._newPath();var r=this._ctx.createPattern(e,n||"");this._strokeInstructions=[new t(this._setProp,["strokeStyle",r],!1)];return this};r.endStroke=function(){this.beginStroke();return this};r.curveTo=r.quadraticCurveTo;r.drawRect=r.rect;r.drawRoundRect=function(e,t,n,r,i){this.drawRoundRectComplex(e,t,n,r,i,i,i,i);return this};r.drawRoundRectComplex=function(e,n,r,i,s,o,u,a){this._dirty=this._active=!0;var f=Math.PI,l=this._ctx.arc,h=this._ctx.lineTo;this._activeInstructions.push(new t(this._ctx.moveTo,[e+s,n]),new t(h,[e+r-o,n]),o>=0?new t(l,[e+r-o,n+o,o,-f/2,0]):new t(l,[e+r,n,-o,f,f/2,!0]),new t(h,[e+r,n+i-u]),a>=0?new t(l,[e+r-u,n+i-u,u,0,f/2]):new t(l,[e+r,n+i,-u,-f/2,f,!0]),new t(h,[e+a,n+i]),a>=0?new t(l,[e+a,n+i-a,a,f/2,f]):new t(l,[e,n+i,-a,0,-f/2,!0]),new t(h,[e,n+s]),s>=0?new t(l,[e+s,n+s,s,f,-f/2]):new t(l,[e,n,-s,f/2,0,!0]));return this};r.drawCircle=function(e,t,n){this.arc(e,t,n,0,Math.PI*2);return this};r.drawEllipse=function(e,n,r,i){this._dirty=this._active=!0;var s=r/2*.5522848,o=i/2*.5522848,u=e+r,a=n+i,r=e+r/2,i=n+i/2;this._activeInstructions.push(new t(this._ctx.moveTo,[e,i]),new t(this._ctx.bezierCurveTo,[e,i-o,r-s,n,r,n]),new t(this._ctx.bezierCurveTo,[r+s,n,u,i-o,u,i]),new t(this._ctx.bezierCurveTo,[u,i+o,r+s,a,r,a]),new t(this._ctx.bezierCurveTo,[r-s,a,e,i+o,e,i]));return this};r.drawPolyStar=function(e,n,r,i,s,o){this._dirty=this._active=!0;s==null&&(s=0);s=1-s;o==null?o=0:o/=180/Math.PI;var u=Math.PI/i;this._activeInstructions.push(new t(this._ctx.moveTo,[e+Math.cos(o)*r,n+Math.sin(o)*r]));for(var a=0;a<i;a++)o+=u,s!=1&&this._activeInstructions.push(new t(this._ctx.lineTo,[e+Math.cos(o)*r*s,n+Math.sin(o)*r*s])),o+=u,this._activeInstructions.push(new t(this._ctx.lineTo,[e+Math.cos(o)*r,n+Math.sin(o)*r]));return this};r.decodePath=function(e){for(var t=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo],r=[2,2,4,6],i=0,s=e.length,o=[],u=0,f=0,l=n.BASE_64;i<s;){var c=l[e.charAt(i)],h=c>>3,p=t[h];if(!p||c&3)throw"bad path data";var d=r[h];h||(u=f=0);o.length=0;i++;c=(c>>2&1)+2;for(h=0;h<d;h++){var v=l[e.charAt(i)],m=v>>5?-1:1,v=(v&31)<<6|l[e.charAt(i+1)];c==3&&(v=v<<6|l[e.charAt(i+2)]);v=m*v/10;h%2?u=v+=u:f=v+=f;o[h]=v;i+=c}p.apply(this,o)}return this};r.clone=function(){var e=new n;e._instructions=this._instructions.slice();e._activeInstructions=this._activeInstructions.slice();e._oldInstructions=this._oldInstructions.slice();this._fillInstructions&&(e._fillInstructions=this._fillInstructions.slice());this._strokeInstructions&&(e._strokeInstructions=this._strokeInstructions.slice());this._strokeStyleInstructions&&(e._strokeStyleInstructions=this._strokeStyleInstructions.slice());e._active=this._active;e._dirty=this._dirty;e.drawAsPath=this.drawAsPath;return e};r.toString=function(){return"[Graphics]"};r.mt=r.moveTo;r.lt=r.lineTo;r.at=r.arcTo;r.bt=r.bezierCurveTo;r.qt=r.quadraticCurveTo;r.a=r.arc;r.r=r.rect;r.cp=r.closePath;r.c=r.clear;r.f=r.beginFill;r.lf=r.beginLinearGradientFill;r.rf=r.beginRadialGradientFill;r.bf=r.beginBitmapFill;r.ef=r.endFill;r.ss=r.setStrokeStyle;r.s=r.beginStroke;r.ls=r.beginLinearGradientStroke;r.rs=r.beginRadialGradientStroke;r.bs=r.beginBitmapStroke;r.es=r.endStroke;r.dr=r.drawRect;r.rr=r.drawRoundRect;r.rc=r.drawRoundRectComplex;r.dc=r.drawCircle;r.de=r.drawEllipse;r.dp=r.drawPolyStar;r.p=r.decodePath;r._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(n.beginCmd);this._fillInstructions&&this._instructions.push.apply(this._instructions,this._fillInstructions);this._strokeInstructions&&(this._instructions.push.apply(this._instructions,this._strokeInstructions),this._strokeStyleInstructions&&this._instructions.push.apply(this._instructions,this._strokeStyleInstructions));this._instructions.push.apply(this._instructions,this._activeInstructions);this._fillInstructions&&this._instructions.push(n.fillCmd);this._strokeInstructions&&this._instructions.push(n.strokeCmd)};r._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=this._instructions;this._activeInstructions=[];this._active=this._dirty=!1};r._setProp=function(e,t){this[e]=t};e.Graphics=n})(createjs||(createjs={}));(function(e){var t=function(){this.initialize()},n=t.prototype;t.suppressCrossDomainErrors=!1;t._hitTestCanvas=document.createElement("canvas");t._hitTestCanvas.width=t._hitTestCanvas.height=1;t._hitTestContext=t._hitTestCanvas.getContext("2d");t._nextCacheID=1;n.alpha=1;n.cacheCanvas=null;n.id=-1;n.mouseEnabled=!0;n.name=null;n.parent=null;n.regX=0;n.regY=0;n.rotation=0;n.scaleX=1;n.scaleY=1;n.skewX=0;n.skewY=0;n.shadow=null;n.visible=!0;n.x=0;n.y=0;n.compositeOperation=null;n.snapToPixel=!1;n.onPress=null;n.onClick=null;n.onDoubleClick=null;n.onMouseOver=null;n.onMouseOut=null;n.onTick=null;n.filters=null;n.cacheID=0;n.mask=null;n.hitArea=null;n._cacheOffsetX=0;n._cacheOffsetY=0;n._cacheDataURLID=0;n._cacheDataURL=null;n._matrix=null;n.initialize=function(){this.id=e.UID.get();this._matrix=new e.Matrix2D};n.isVisible=function(){return this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0};n.draw=function(e,t){if(t||!this.cacheCanvas)return!1;e.drawImage(this.cacheCanvas,this._cacheOffsetX,this._cacheOffsetY);return!0};n.updateContext=function(t){var n,r=this.mask;r&&r.graphics&&(n=r.getMatrix(r._matrix),t.transform(n.a,n.b,n.c,n.d,n.tx,n.ty),r.graphics.drawAsPath(t),t.clip(),n.invert(),t.transform(n.a,n.b,n.c,n.d,n.tx,n.ty));n=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY);e.Stage._snapToPixelEnabled&&this.snapToPixel?t.transform(n.a,n.b,n.c,n.d,n.tx+.5|0,n.ty+.5|0):t.transform(n.a,n.b,n.c,n.d,n.tx,n.ty);t.globalAlpha*=this.alpha;this.compositeOperation&&(t.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(t,this.shadow)};n.cache=function(e,n,r,i){var s=this.cacheCanvas;s==null&&(s=this.cacheCanvas=document.createElement("canvas"));var o=s.getContext("2d");s.width=r;s.height=i;o.setTransform(1,0,0,1,-e,-n);o.clearRect(e,n,s.width,s.height);this.draw(o,!0,this._matrix.reinitialize(1,0,0,1,-e,-n));this._cacheOffsetX=e;this._cacheOffsetY=n;this._applyFilters();this.cacheID=t._nextCacheID++};n.updateCache=function(e){var n=this.cacheCanvas,r=this._cacheOffsetX,i=this._cacheOffsetY;if(n==null)throw"cache() must be called before updateCache()";var s=n.getContext("2d");s.setTransform(1,0,0,1,-r,-i);e?s.globalCompositeOperation=e:s.clearRect(r,i,n.width,n.height);this.draw(s,!0);e&&(s.globalCompositeOperation="source-over");this._applyFilters();this.cacheID=t._nextCacheID++};n.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0};n.getCacheDataURL=function(){if(!this.cacheCanvas)return null;this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL());return this._cacheDataURL};n.getStage=function(){for(var t=this;t.parent;)t=t.parent;return t instanceof e.Stage?t:null};n.localToGlobal=function(t,n){var r=this.getConcatenatedMatrix(this._matrix);if(r==null)return null;r.append(1,0,0,1,t,n);return new e.Point(r.tx,r.ty)};n.globalToLocal=function(t,n){var r=this.getConcatenatedMatrix(this._matrix);if(r==null)return null;r.invert();r.append(1,0,0,1,t,n);return new e.Point(r.tx,r.ty)};n.localToLocal=function(e,t,n){e=this.localToGlobal(e,t);return n.globalToLocal(e.x,e.y)};n.setTransform=function(e,t,n,r,i,s,o,u,a){this.x=e||0;this.y=t||0;this.scaleX=n==null?1:n;this.scaleY=r==null?1:r;this.rotation=i||0;this.skewX=s||0;this.skewY=o||0;this.regX=u||0;this.regY=a||0};n.getMatrix=function(t){return(t?t.identity():new e.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)};n.getConcatenatedMatrix=function(t){t?t.identity():t=new e.Matrix2D;for(var n=this;n!=null;)t.prependTransform(n.x,n.y,n.scaleX,n.scaleY,n.rotation,n.skewX,n.skewY,n.regX,n.regY).prependProperties(n.alpha,n.shadow,n.compositeOperation),n=n.parent;return t};n.hitTest=function(e,n){var r=t._hitTestContext,i=t._hitTestCanvas;r.setTransform(1,0,0,1,-e,-n);this.draw(r);r=this._testHit(r);i.width=0;i.width=1;return r};n.clone=function(){var e=new t;this.cloneProps(e);return e};n.toString=function(){return"[DisplayObject (name="+this.name+")]"};n.cloneProps=function(e){e.alpha=this.alpha;e.name=this.name;e.regX=this.regX;e.regY=this.regY;e.rotation=this.rotation;e.scaleX=this.scaleX;e.scaleY=this.scaleY;e.shadow=this.shadow;e.skewX=this.skewX;e.skewY=this.skewY;e.visible=this.visible;e.x=this.x;e.y=this.y;e.mouseEnabled=this.mouseEnabled;e.compositeOperation=this.compositeOperation;this.cacheCanvas&&(e.cacheCanvas=this.cacheCanvas.cloneNode(!0),e.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0,0,this.cacheCanvas.width,this.cacheCanvas.height),0,0))};n._applyShadow=function(e,t){t=t||Shadow.identity;e.shadowColor=t.color;e.shadowOffsetX=t.offsetX;e.shadowOffsetY=t.offsetY;e.shadowBlur=t.blur};n._tick=function(e){this.onTick&&this.onTick(e)};n._testHit=function(e){try{var n=e.getImageData(0,0,1,1).data[3]>1}catch(r){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n};n._applyFilters=function(){if(this.filters&&this.filters.length!=0&&this.cacheCanvas)for(var e=this.filters.length,t=this.cacheCanvas.getContext("2d"),n=this.cacheCanvas.width,r=this.cacheCanvas.height,i=0;i<e;i++)this.filters[i].applyFilter(t,0,0,n,r)};e.DisplayObject=t})(createjs||(createjs={}));(function(e){var t=function(){this.initialize()},n=t.prototype=new e.DisplayObject;n.children=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(){this.DisplayObject_initialize();this.children=[]};n.isVisible=function(){return this.visible&&this.alpha>0&&this.children.length&&this.scaleX!=0&&this.scaleY!=0};n.DisplayObject_draw=n.draw;n.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var n=this.children.slice(0),r=0,i=n.length;r<i;r++){var s=n[r];s.isVisible()&&(e.save(),s.updateContext(e),s.draw(e),e.restore())}return!0};n.addChild=function(e){if(e==null)return e;var t=arguments.length;if(t>1){for(var n=0;n<t;n++)this.addChild(arguments[n]);return arguments[t-1]}e.parent&&e.parent.removeChild(e);e.parent=this;this.children.push(e);return e};n.addChildAt=function(e,t){var n=arguments.length,r=arguments[n-1];if(r<0||r>this.children.length)return arguments[n-2];if(n>2){for(var i=0;i<n-1;i++)this.addChildAt(arguments[i],r+i);return arguments[n-2]}e.parent&&e.parent.removeChild(e);e.parent=this;this.children.splice(t,0,e);return e};n.removeChild=function(e){var t=arguments.length;if(t>1){for(var n=!0,r=0;r<t;r++)n=n&&this.removeChild(arguments[r]);return n}return this.removeChildAt(this.children.indexOf(e))};n.removeChildAt=function(e){var t=arguments.length;if(t>1){for(var n=[],r=0;r<t;r++)n[r]=arguments[r];n.sort(function(e,t){return t-e});for(var i=!0,r=0;r<t;r++)i=i&&this.removeChildAt(n[r]);return i}if(e<0||e>this.children.length-1)return!1;if(t=this.children[e])t.parent=null;this.children.splice(e,1);return!0};n.removeAllChildren=function(){for(var e=this.children;e.length;)e.pop().parent=null};n.getChildAt=function(e){return this.children[e]};n.sortChildren=function(e){this.children.sort(e)};n.getChildIndex=function(e){return this.children.indexOf(e)};n.getNumChildren=function(){return this.children.length};n.swapChildrenAt=function(e,t){var n=this.children,r=n[e],i=n[t];r&&i&&(n[e]=i,n[t]=r)};n.swapChildren=function(e,t){for(var n=this.children,r,i,s=0,o=n.length;s<o;s++)if(n[s]==e&&(r=s),n[s]==t&&(i=s),r!=null&&i!=null)break;s!=o&&(n[r]=t,n[i]=e)};n.setChildIndex=function(e,t){var n=this.children,r=n.length;if(!(e.parent!=this||t<0||t>=r)){for(var i=0;i<r;i++)if(n[i]==e)break;i==r||i==t||(n.splice(i,1),t<i&&t--,n.splice(t,0,e))}};n.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1};n.hitTest=function(e,t){return this.getObjectUnderPoint(e,t)!=null};n.getObjectsUnderPoint=function(e,t){var n=[],r=this.localToGlobal(e,t);this._getObjectsUnderPoint(r.x,r.y,n);return n};n.getObjectUnderPoint=function(e,t){var n=this.localToGlobal(e,t);return this._getObjectsUnderPoint(n.x,n.y)};n.clone=function(e){var n=new t;this.cloneProps(n);if(e)for(var r=n.children=[],i=0,s=this.children.length;i<s;i++){var o=this.children[i].clone(e);o.parent=n;r.push(o)}return n};n.toString=function(){return"[Container (name="+this.name+")]"};n._tick=function(e){for(var t=this.children.length-1;t>=0;t--){var n=this.children[t];n._tick&&n._tick(e)}this.onTick&&this.onTick(e)};n._getObjectsUnderPoint=function(e,n,r,i){var s=createjs.DisplayObject._hitTestContext,o=createjs.DisplayObject._hitTestCanvas,u=this._matrix,a=i&1&&(this.onPress||this.onClick||this.onDoubleClick)||i&2&&(this.onMouseOver||this.onMouseOut);if(this.cacheCanvas&&a&&(this.getConcatenatedMatrix(u),s.setTransform(u.a,u.b,u.c,u.d,u.tx-e,u.ty-n),s.globalAlpha=u.alpha,this.draw(s),this._testHit(s)))return o.width=0,o.width=1,this;for(var f=this.children.length-1;f>=0;f--){var l=this.children[f];if(l.isVisible()&&l.mouseEnabled)if(l instanceof t){if(a){if(l=l._getObjectsUnderPoint(e,n))return this}else if(l=l._getObjectsUnderPoint(e,n,r,i),!r&&l)return l}else if(!i||a||i&1&&(l.onPress||l.onClick||l.onDoubleClick)||i&2&&(l.onMouseOver||l.onMouseOut)){var h=l.hitArea;l.getConcatenatedMatrix(u);h&&(u.appendTransform(h.x+l.regX,h.y+l.regY,h.scaleX,h.scaleY,h.rotation,h.skewX,h.skewY,h.regX,h.regY),u.alpha*=h.alpha/l.alpha);s.globalAlpha=u.alpha;s.setTransform(u.a,u.b,u.c,u.d,u.tx-e,u.ty-n);(h||l).draw(s);if(this._testHit(s)){if(o.width=0,o.width=1,a)return this;if(!r)return l;r.push(l)}}}return null};e.Container=t})(createjs||(createjs={}));(function(e){var t=function(e){this.initialize(e)},n=t.prototype=new e.Container;t._snapToPixelEnabled=!1;n.autoClear=!0;n.canvas=null;n.mouseX=null;n.mouseY=null;n.onMouseMove=null;n.onMouseUp=null;n.onMouseDown=null;n.snapToPixelEnabled=!1;n.mouseInBounds=!1;n.tickOnUpdate=!0;n._pointerData=null;n._pointerCount=0;n._primaryPointerID=null;n._mouseOverIntervalID=null;n.Container_initialize=n.initialize;n.initialize=function(e){this.Container_initialize();this.canvas=e instanceof HTMLCanvasElement?e:document.getElementById(e);this._pointerData={};this._enableMouseEvents(!0)};n.update=function(e){this.canvas&&(this.autoClear&&this.clear(),t._snapToPixelEnabled=this.snapToPixelEnabled,this.tickOnUpdate&&this._tick(e),this.draw(this.canvas.getContext("2d"),!1,this.getConcatenatedMatrix(this._matrix)))};n.tick=n.update;n.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,this.canvas.width,this.canvas.height)}};n.toDataURL=function(e,t){t||(t="image/png");var n=this.canvas.getContext("2d"),r=this.canvas.width,i=this.canvas.height,s;if(e){s=n.getImageData(0,0,r,i);var o=n.globalCompositeOperation;n.globalCompositeOperation="destination-over";n.fillStyle=e;n.fillRect(0,0,r,i)}var u=this.canvas.toDataURL(t);e&&(n.clearRect(0,0,r,i),n.putImageData(s,0,0),n.globalCompositeOperation=o);return u};n.enableMouseOver=function(e){this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null);if(e==null)e=20;else if(e<=0)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))};n.clone=function(){var e=new t(null);this.cloneProps(e);return e};n.toString=function(){return"[Stage (name="+this.name+")]"};n._enableMouseEvents=function(){var e=this,t=window.addEventListener?window:document;t.addEventListener("mouseup",function(t){e._handleMouseUp(t)},!1);t.addEventListener("mousemove",function(t){e._handleMouseMove(t)},!1);t.addEventListener("dblclick",function(t){e._handleDoubleClick(t)},!1);this.canvas&&this.canvas.addEventListener("mousedown",function(t){e._handleMouseDown(t)},!1)};n._getPointerData=function(e){var t=this._pointerData[e];!t&&(t=this._pointerData[e]={},this._primaryPointerID==null)&&(this._primaryPointerID=e);return t};n._handleMouseMove=function(e){e||(e=window.event);this._handlePointerMove(-1,e,e.pageX,e.pageY)};n._handlePointerMove=function(t,n,r,s){if(this.canvas){var o=this._getPointerData(t),u=o.inBounds;this._updatePointerPosition(t,r,s);if(u||o.inBounds){t=new e.MouseEvent("onMouseMove",o.x,o.y,this,n,t,t==this._primaryPointerID);this.onMouseMove&&this.onMouseMove(t);o.event&&o.event.onMouseMove&&o.event.onMouseMove(t)}}};n._updatePointerPosition=function(e,t,n){var r=this.canvas;do t-=r.offsetLeft,n-=r.offsetTop;while(r=r.offsetParent);r=this._getPointerData(e);if(r.inBounds=t>=0&&n>=0&&t<this.canvas.width&&n<this.canvas.height)r.x=t,r.y=n;e==this._primaryPointerID&&(this.mouseX=r.x,this.mouseY=r.y,this.mouseInBounds=r.inBounds)};n._handleMouseUp=
function(e){this._handlePointerUp(-1,e,!1)};n._handlePointerUp=function(t,n,r){var s=this._getPointerData(t),o=new e.MouseEvent("onMouseUp",s.x,s.y,this,n,t,t==this._primaryPointerID);this.onMouseUp&&this.onMouseUp(o);s.event&&s.event.onMouseUp&&s.event.onMouseUp(o);s.target&&s.target.onClick&&this._getObjectsUnderPoint(s.x,s.y,null,true,this._mouseOverIntervalID?3:1)==s.target&&s.target.onClick(new e.MouseEvent("onClick",s.x,s.y,s.target,n,t,t==this._primaryPointerID));if(r){t==this._primaryPointerID&&(this._primaryPointerID=null);delete this._pointerData[t]}else s.event=s.target=null};n._handleMouseDown=function(e){this._handlePointerDown(-1,e,!1)};n._handlePointerDown=function(t,n,r,s){var o=this._getPointerData(t);s!=null&&this._updatePointerPosition(t,r,s);this.onMouseDown&&this.onMouseDown(new e.MouseEvent("onMouseDown",o.x,o.y,this,n,t,t==this._primaryPointerID));if(r=this._getObjectsUnderPoint(o.x,o.y,null,this._mouseOverIntervalID?3:1)){r.onPress&&(t=new e.MouseEvent("onPress",o.x,o.y,r,n,t,t==this._primaryPointerID),r.onPress(t),t.onMouseMove||t.onMouseUp)&&(o.event=t);o.target=r}};n._testMouseOver=function(){if(this._primaryPointerID==-1&&(this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var t=null;this.mouseInBounds&&(t=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);if(this._mouseOverTarget!=t){this._mouseOverTarget&&this._mouseOverTarget.onMouseOut&&this._mouseOverTarget.onMouseOut(new e.MouseEvent("onMouseOut",this.mouseX,this.mouseY,this._mouseOverTarget));t&&t.onMouseOver&&t.onMouseOver(new e.MouseEvent("onMouseOver",this.mouseX,this.mouseY,t));this._mouseOverTarget=t}}};n._handleDoubleClick=function(t){this.onDoubleClick&&this.onDoubleClick(new e.MouseEvent("onDoubleClick",this.mouseX,this.mouseY,this,t,NaN,!0));var n=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,this._mouseOverIntervalID?3:1);n&&n.onDoubleClick&&n.onDoubleClick(new e.MouseEvent("onDoubleClick",this.mouseX,this.mouseY,n,t))};e.Stage=t})(createjs||(createjs={}));(function(e){var t=function(e){this.initialize(e)},n=t.prototype=new e.DisplayObject;n.image=null;n.snapToPixel=!0;n.sourceRect=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(e){this.DisplayObject_initialize();typeof e=="string"?(this.image=new Image,this.image.src=e):this.image=e};n.isVisible=function(){return this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&this.image&&(this.image.complete||this.image.getContext||this.image.readyState>=2)};n.DisplayObject_draw=n.draw;n.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var n=this.sourceRect;n?e.drawImage(this.image,n.x,n.y,n.width,n.height,0,0,n.width,n.height):e.drawImage(this.image,0,0);return!0};n.clone=function(){var e=new t(this.image);this.cloneProps(e);return e};n.toString=function(){return"[Bitmap (name="+this.name+")]"};e.Bitmap=t})(createjs||(createjs={}));(function(e){var t=function(e){this.initialize(e)},n=t.prototype=new e.DisplayObject;n.onAnimationEnd=null;n.currentFrame=-1;n.currentAnimation=null;n.paused=!0;n.spriteSheet=null;n.snapToPixel=!0;n.offset=0;n.currentAnimationFrame=0;n._advanceCount=0;n._animation=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(e){this.DisplayObject_initialize();this.spriteSheet=e};n.isVisible=function(){return this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&this.spriteSheet.complete&&this.currentFrame>=0};n.DisplayObject_draw=n.draw;n.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(this.currentFrame);if(n!=null){var r=n.rect;e.drawImage(n.image,r.x,r.y,r.width,r.height,-n.regX,-n.regY,r.width,r.height);return!0}};n.play=function(){this.paused=!1};n.stop=function(){this.paused=!0};n.gotoAndPlay=function(e){this.paused=!1;this._goto(e)};n.gotoAndStop=function(e){this.paused=!0;this._goto(e)};n.advance=function(){this._animation?this.currentAnimationFrame++:this.currentFrame++;this._normalizeFrame()};n.clone=function(){var e=new t(this.spriteSheet);this.cloneProps(e);return e};n.toString=function(){return"[BitmapAnimation (name="+this.name+")]"};n._tick=function(e){var t=this._animation?this._animation.frequency:1;!this.paused&&(++this._advanceCount+this.offset)%t==0&&this.advance();this.onTick&&this.onTick(e)};n._normalizeFrame=function(){var e=this._animation;e?this.currentAnimationFrame>=e.frames.length?(e.next?this._goto(e.next):(this.paused=!0,this.currentAnimationFrame=e.frames.length-1,this.currentFrame=e.frames[this.currentAnimationFrame]),this.onAnimationEnd)&&this.onAnimationEnd(this,e.name):this.currentFrame=e.frames[this.currentAnimationFrame]:this.currentFrame>=this.spriteSheet.getNumFrames()&&(this.currentFrame=0,this.onAnimationEnd)&&this.onAnimationEnd(this,null)};n.DisplayObject_cloneProps=n.cloneProps;n.cloneProps=function(e){this.DisplayObject_cloneProps(e);e.onAnimationEnd=this.onAnimationEnd;e.currentFrame=this.currentFrame;e.currentAnimation=this.currentAnimation;e.paused=this.paused;e.offset=this.offset;e._animation=this._animation;e.currentAnimationFrame=this.currentAnimationFrame};n._goto=function(e){if(isNaN(e)){var t=this.spriteSheet.getAnimation(e);t&&(this.currentAnimationFrame=0,this._animation=t,this.currentAnimation=e,this._normalizeFrame())}else this.currentAnimation=this._animation=null,this.currentFrame=e};e.BitmapAnimation=t})(createjs||(createjs={}));(function(e){var t=function(e){this.initialize(e)},n=t.prototype=new e.DisplayObject;n.graphics=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(t){this.DisplayObject_initialize();this.graphics=t?t:new e.Graphics};n.isVisible=function(){return this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&this.graphics};n.DisplayObject_draw=n.draw;n.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this.graphics.draw(e);return!0};n.clone=function(e){e=new t(e&&this.graphics?this.graphics.clone():this.graphics);this.cloneProps(e);return e};n.toString=function(){return"[Shape (name="+this.name+")]"};e.Shape=t})(createjs||(createjs={}));(function(e){var t=function(e,t,n){this.initialize(e,t,n)},n=t.prototype=new e.DisplayObject;t._workingContext=document.createElement("canvas").getContext("2d");n.text="";n.font=null;n.color=null;n.textAlign=null;n.textBaseline=null;n.maxWidth=null;n.outline=!1;n.lineHeight=0;n.lineWidth=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(e,t,n){this.DisplayObject_initialize();this.text=e;this.font=t;this.color=n?n:"#000"};n.isVisible=function(){return Boolean(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&this.text!=null&&this.text!=="")};n.DisplayObject_draw=n.draw;n.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this.outline?e.strokeStyle=this.color:e.fillStyle=this.color;e.font=this.font;e.textAlign=this.textAlign||"start";e.textBaseline=this.textBaseline||"alphabetic";this._drawText(e);return!0};n.getMeasuredWidth=function(){return this._getWorkingContext().measureText(this.text).width};n.getMeasuredLineHeight=function(){return this._getWorkingContext().measureText("M").width*1.2};n.getMeasuredHeight=function(){return this._drawText()*(this.lineHeight||this.getMeasuredLineHeight())};n.clone=function(){var e=new t(this.text,this.font,this.color);this.cloneProps(e);return e};n.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"};n.DisplayObject_cloneProps=n.cloneProps;n.cloneProps=function(e){this.DisplayObject_cloneProps(e);e.textAlign=this.textAlign;e.textBaseline=this.textBaseline;e.maxWidth=this.maxWidth;e.outline=this.outline;e.lineHeight=this.lineHeight;e.lineWidth=this.lineWidth};n._getWorkingContext=function(){var e=t._workingContext;e.font=this.font;e.textAlign=this.textAlign||"start";e.textBaseline=this.textBaseline||"alphabetic";return e};n._drawText=function(e){var t=!!e;t||(e=this._getWorkingContext());for(var n=String(this.text).split(/(?:\r\n|\r|\n)/),r=this.lineHeight||this.getMeasuredLineHeight(),i=0,s=0,o=n.length;s<o;s++){var u=e.measureText(n[s]).width;if(this.lineWidth==null||u<this.lineWidth)t&&this._drawTextLine(e,n[s],i*r);else{for(var u=n[s].split(/(\s)/),a=u[0],f=1,l=u.length;f<l;f+=2)e.measureText(a+u[f]+u[f+1]).width>this.lineWidth?(t&&this._drawTextLine(e,a,i*r),i++,a=u[f+1]):a+=u[f]+u[f+1];t&&this._drawTextLine(e,a,i*r)}i++}return i};n._drawTextLine=function(e,t,n){this.outline?e.strokeText(t,0,n,this.maxWidth||65535):e.fillText(t,0,n,this.maxWidth||65535)};e.Text=t})(createjs||(createjs={}));(function(e){var t=function(){throw"SpriteSheetUtils cannot be instantiated"};t._workingCanvas=document.createElement("canvas");t._workingContext=t._workingCanvas.getContext("2d");t.addFlippedFrames=function(e,n,r,i){if(n||r||i){var s=0;n&&t._flip(e,++s,!0,!1);r&&t._flip(e,++s,!1,!0);i&&t._flip(e,++s,!0,!0)}};t.extractFrame=function(e,n){isNaN(n)&&(n=e.getAnimation(n).frames[0]);var r=e.getFrame(n);if(!r)return null;var i=r.rect,s=t._workingCanvas;s.width=i.width;s.height=i.height;t._workingContext.drawImage(r.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height);r=new Image;r.src=s.toDataURL("image/png");return r};t._flip=function(e,n,r,i){for(var s=e._images,o=t._workingCanvas,u=t._workingContext,a=s.length/n,f=0;f<a;f++){var l=s[f];l.__tmp=f;o.width=l.width;o.height=l.height;u.setTransform(r?-1:1,0,0,i?-1:1,r?l.width:0,i?l.height:0);u.drawImage(l,0,0);var h=new Image;h.src=o.toDataURL("image/png");h.width=l.width;h.height=l.height;s.push(h)}u=e._frames;o=u.length/n;for(f=0;f<o;f++){var l=u[f],p=l.rect.clone(),h=s[l.image.__tmp+a*n],d={image:h,rect:p,regX:l.regX,regY:l.regY};r&&(p.x=h.width-p.x-p.width,d.regX=p.width-l.regX);i&&(p.y=h.height-p.y-p.height,d.regY=p.height-l.regY);u.push(d)}r="_"+(r?"h":"")+(i?"v":"");i=e._animations;e=e._data;s=i.length/n;for(f=0;f<s;f++){u=i[f];l=e[u];a={name:u+r,frequency:l.frequency,next:l.next,frames:[]};l.next&&(a.next+=r);u=l.frames;l=0;for(h=u.length;l<h;l++)a.frames.push(u[l]+o*n);e[a.name]=a;i.push(a.name)}};e.SpriteSheetUtils=t})(createjs||(createjs={}));(function(e){var t=function(){this.initialize()},n=t.prototype;t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";t.ERR_RUNNING="a build is already running";n.maxWidth=2048;n.maxHeight=2048;n.spriteSheet=null;n.scale=1;n._frames=null;n._animations=null;n._data=null;n._nextFrameIndex=0;n._index=0;n._callback=null;n._timeSlice=null;n._timerID=null;n._scale=1;n.initialize=function(){this._frames=[];this._animations={}};n.addFrame=function(e,n,r,i,s,o){if(this._data)throw t.ERR_RUNNING;n=n||e.bounds||e.nominalBounds;!n&&e.getBounds&&(n=e.getBounds());if(!n)return null;r=r||1;return this._frames.push({source:e,sourceRect:n,scale:r,funct:i,params:s,scope:o,index:this._frames.length,height:n.height*r})-1};n.addAnimation=function(e,n,r,i){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:n,next:r,frequency:i}};n.addMovieClip=function(e,n,r){if(this._data)throw t.ERR_RUNNING;var i=e.frameBounds,n=n||e.bounds||e.nominalBounds;!n&&e.getBounds&&(n=e.getBounds());if(!n&&!i)return null;for(var s=e.timeline.duration,o=0;o<s;o++)this.addFrame(e,i&&i[o]?i[o]:n,r,function(e){var t=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(e);this.actionsEnabled=t},[o],e);var e=e.timeline._labels,u;for(u in e)this.addAnimation(u,e[u],!0)};n.build=function(){if(this._data)throw t.ERR_RUNNING;this._callback=null;for(this._startBuild();this._drawNext(););this._endBuild();return this.spriteSheet};n.buildAsync=function(e,n){if(this._data)throw t.ERR_RUNNING;this._callback=e;this._startBuild();this._timeSlice=Math.max(.01,Math.min(.99,n||.3))*50;var r=this;this._timerID=setTimeout(function(){r._run()},50-this._timeSlice)};n.stopAsync=function(){clearTimeout(this._timerID);this._data=null};n.clone=function(){throw"SpriteSheetBuilder cannot be cloned."};n.toString=function(){return"[SpriteSheetBuilder]"};n._startBuild=function(){this.spriteSheet=null;this._index=0;this._scale=this.scale;var e=[];this._data={images:[],frames:e,animations:this._animations};var n=this._frames.slice();n.sort(function(e,t){return e.height<=t.height?-1:1});if(n[n.length-1].height>this.maxHeight)throw t.ERR_DIMENSIONS;for(var r=1,i=1,s=0;n.length;){var o=this._fillRow(n,r,s,e);o.w>i&&(i=o.w);r+=o.h+2;if(!o.h||!n.length){var u=document.createElement("canvas");u.width=this._getSize(i,this.maxWidth);u.height=this._getSize(r,this.maxHeight);this._data.images[s]=u;o.h||(i=r=1,s++)}}};n._getSize=function(e,t){for(var n=4;Math.pow(2,++n)<e;);return Math.min(t,Math.pow(2,n))};n._fillRow=function(n,r,s,o){for(var u=this.maxWidth,a=this.maxHeight-r,f=1,l=0,h=n.length-1;h>=0;h--){var p=n[h],d=this._scale*p.scale,v=p.sourceRect,m=p.source,g=Math.floor(d*v.x-1),y=Math.floor(d*v.y-1),b=Math.ceil(d*v.height),v=Math.ceil(d*v.width);if(v>u)throw t.ERR_DIMENSIONS;b>a||f+v>u||(p.img=s,p.rect=new e.Rectangle(f,r,v,b),l=l||b,n.splice(h,1),o[p.index]=[f-1,r-1,v+2,b+2,s,Math.round(-g+d*m.regX),Math.round(-y+d*m.regY)],f+=v+2)}return{w:f,h:l}};n._endBuild=function(){this.spriteSheet=new e.SpriteSheet(this._data);this._data=null;this._callback&&this._callback(this)};n._run=function(){for(var e=(new Date).getTime()+this._timeSlice,t=!1;e>(new Date).getTime();)if(!this._drawNext()){t=!0;break}if(t)this._endBuild();else{var n=this;this._timerID=setTimeout(function(){n._run()},50-this._timeSlice)}};n._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,n=e.rect,r=e.sourceRect,i=this._data.images[e.img].getContext("2d");e.funct&&e.funct.apply(e.scope,e.params);i.save();i.beginPath();i.rect(n.x-1,n.y-1,n.width+2,n.height+2);i.clip();i.translate(n.x-r.x*t+.5|0,n.y-r.y*t+.5|0);i.scale(t,t);e.source.draw(i);i.restore();return++this._index<this._frames.length};e.SpriteSheetBuilder=t})(createjs||(createjs={}));(function(e){var t=function(e){this.initialize(e)},n=t.prototype=new e.DisplayObject;n.htmlElement=null;n._style=null;n.DisplayObject_initialize=n.initialize;n.initialize=function(e){typeof e=="string"&&(e=document.getElementById(e));this.DisplayObject_initialize();this.mouseEnabled=!1;if(this.htmlElement=e)this._style=e.style,this._style.position="absolute",this._style.transformOrigin=this._style.webkitTransformOrigin=this._style.msTransformOrigin=this._style.MozTransformOrigin="0% 0%"};n.isVisible=function(){return this.htmlElement!=null};n.draw=function(){if(this.htmlElement!=null){var e=this.getConcatenatedMatrix(this._matrix),t=this.htmlElement;t.style.opacity=""+e.alpha;t.style.visibility=this.visible?"visible":"hidden";t.style.transform=t.style.webkitTransform=t.style.oTransform=t.style.msTransform=["matrix("+e.a,e.b,e.c,e.d,e.tx,e.ty+")"].join(",");t.style.MozTransform=["matrix("+e.a,e.b,e.c,e.d,e.tx+"px",e.ty+"px)"].join(",");return!0}};n.cache=function(){};n.uncache=function(){};n.updateCache=function(){};n.hitTest=function(){};n.localToGlobal=function(){};n.globalToLocal=function(){};n.localToLocal=function(){};n.clone=function(){var e=new t;this.cloneProps(e);return e};n.toString=function(){return"[DOMElement (name="+this.name+")]"};n._tick=function(e){this.htmlElement!=null&&(this.htmlElement.style.visibility="hidden",this.onTick)&&this.onTick(e)};e.DOMElement=t})(createjs||(createjs={}));(function(e){var t=function(){this.initialize()},n=t.prototype;n.initialize=function(){};n.getBounds=function(){return new e.Rectangle(0,0,0,0)};n.applyFilter=function(){};n.toString=function(){return"[Filter]"};n.clone=function(){return new t};e.Filter=t})(createjs||(createjs={}));(function(e){var t=function(){throw"Touch cannot be instantiated"};t.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled};t.enable=function(e,n,r){if(!e||!e.canvas||!t.isSupported())return!1;e.__touch={pointers:{},multitouch:!n,preventDefault:!r,count:0};"ontouchstart"in window?t._IOS_enable(e):window.navigator.msPointerEnabled&&t._IE_enable(e);return!0};t._IOS_enable=function(e){var n=e.canvas;n.addEventListener("touchstart",function(n){t._IOS_handleEvent(e,n)},!1);n.addEventListener("touchmove",function(n){t._IOS_handleEvent(e,n)},!1);n.addEventListener("touchend",function(n){t._IOS_handleEvent(e,n)},!1);n.addEventListener("touchcancel",function(n){t._IOS_handleEvent(e,n)},!1)};t._IOS_handleEvent=function(e,t){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var n=t.changedTouches,r=t.type,i=0,s=n.length;i<s;i++){var o=n[i],u=o.identifier;o.target==e.canvas&&(r=="touchstart"?this._handleStart(e,u,t,o.pageX,o.pageY):r=="touchmove"?this._handleMove(e,u,t,o.pageX,o.pageY):(r=="touchend"||r=="touchcancel")&&this._handleEnd(e,u,t))}};t._IE_enable=function(e){var n=e.canvas;n.addEventListener("MSPointerDown",function(n){t._IE_handleEvent(e,n)},!1);n.addEventListener("MSPointerMove",function(n){t._IE_handleEvent(e,n)},!1);n.addEventListener("MSPointerUp",function(n){t._IE_handleEvent(e,n)},!1);n.addEventListener("MSPointerCancel",function(n){t._IE_handleEvent(e,n)},!1);e.__touch.preventDefault&&(n.style.msTouchAction="none")};t._IE_handleEvent=function(e,t){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var n=t.type,r=t.pointerId;t.srcElement==e.canvas&&(n=="MSPointerDown"?this._handleStart(e,r,t,t.pageX,t.pageY):n=="MSPointerMove"?this._handleMove(e,r,t,t.pageX,t.pageY):(n=="MSPointerUp"||n=="MSPointerCancel")&&this._handleEnd(e,r,t))};t._handleStart=function(e,t,n,r,i){var s=e.__touch;if(s.multitouch||!s.count){var o=s.pointers;o[t]||(o[t]=!0,s.count++,e._handlePointerDown(t,n,r,i))}};t._handleMove=function(e,t,n,r,i){e.__touch.pointers[t]&&e._handlePointerMove(t,n,r,i)};t._handleEnd=function(e,t,n){var r=e.__touch,i=r.pointers;i[t]&&(r.count--,e._handlePointerUp(t,n,!0),delete i[t])};e.Touch=t})(createjs||(createjs={}));
