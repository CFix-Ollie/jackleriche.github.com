(function(e){"use strict";function p(e){d(e);m(e);v(e)}function d(e){u.contains(e.getTicketData().n,"Number")&&e.setIsTicketTypeNumber(!0)}function v(e){var t=u.makeBitmapImage(e.getWinningTab(),{x:110,y:e.getY()+10}),n=u.makeBitmapImage(e.getYourTab(),{x:480,y:e.getY()+10}),r=u.makeBitmapImage("game1and2_divs",{x:237,y:e.getY()+34});e.getSlide().addChild(t,n,r)}function m(e){var t=e.getWinningSymbol(),n=e.getIcon(),r=null,i=null;t==="game1_diamond"?r="EADShzdIBuh4IA8goIBGgeIBageIBGgUIBkgUIBaAAIBkAKIBQAKIA8AeIAoAeIBGAoIAUAUIAyAyIAeAyIAUAeIAABGIhuB4ImaG4IAAAKIocpEIAAhG":r="EAC+hx5IgohQIhGigIC+hGIC+g8IB4geIB4AUIBQAoIAyAKIAegKIBuAoIAyAUIAAAUICCBGIBuA8IAyAoIgKA8IgUBGIgKAeIAAAoIAAA8IAKAKIoIGGIgKAAIkikiIkOkOIAAgK";n==="game1_coin"?i="EAF8h03IAyhQIAygoIBGgoIBageIBGgKIAoAAIAoAKIAoAKIAUAKIAeAUIAeAUIAyAeIAoAyIAoAyIAeAyIAUAoIAUAyIAKAoIAKAeIAAAyIAAA8IAAAyIgKAyIgUBGIgoA8IgeAyIgoAeYgKAKgoAUAAAAIgeAUIgoAUIgoAKIgyAKIgoAAIgyAAIg8gKIgegKIgogeIgygoIgogeIgogoIgegoIgUgoIgegyIgUgoIgKgyIgKhGIAAgoIAKhGIAUhGIAKgeIAeg8":i="EACqhyDIBug8IAKhGIHWjmID6BGIAKAKIAKCgICCA8IAeCWInCFoIpOkYIgKgKIAeig";var s=new createjs.Container,o=new createjs.Container,l=new createjs.Container,c=u.makeBitmapImage("box_long",{x:0,y:0},1),h=u.makeBitmapImage(e.getInfo(),{x:45,y:210},1),p=new createjs.Container,t=u.makeBitmapImage(e.getWinningSymbol(),{x:0,y:0}),d=u.makeBitmapImage(b(e),{x:0,y:0},0),v=new createjs.Shape,m=u.makeShimmer(r,{x:-70,y:720},{startX:-190,endX:0,y:-70,scale:.8}),w=e.getTicketData(),E=[];p.x=111;p.y=125;o.name="maskContainer";t.name="icon";d.name="iconReveal";m.name="shimmer";l.name="clickContainer";o.addChild(m);m.mask=v;o.addChild(v);s.x=e.getX();s.y=e.getY();s.name="gameContainer";s.addChild(c,h);l.addChild(t);p.addChild(d,l,o);var S={reveal:y},x=new f(p,{},S);x.name="gameAsset";l.on("click",function(t){u.stopPrompt();a.clickCount++;var n=E[0].getContainer();n.removeChild(n.getChildByName("maskContainer"));if(E[0].getIsRevealed()===!1){E[0].setIsRevealed(!0);E[0].reveal("reveal",E[0],0);createjs.Sound.play("Pop")}e.checkReveals();e.isFinished()},null,!0);E.push(x);for(var T=0;T<4;T++){var N=null;switch(T){case 3:N="game1and2_highlight_c";break;default:N="game1and2_highlight_b"}var C=g(w.turn[T],e.getIsTicketTypeNumber()),k=C[1],L=new createjs.Container,o=new createjs.Container,A=new createjs.Container,O=new createjs.Shape,M=u.makeBitmapImage(N,{x:0,y:8},0),_=u.makeBitmapImage(e.getIcon(),{x:71,y:71}),D=new createjs.Shape,m=u.makeShimmer(i,{x:0,y:790},{startX:-100,endX:100,y:0,scale:.8}),P=u.makeShimmer(a.prize,{x:10,y:900},{startX:-120,endX:100,y:100,scale:.8}),H=u.makeBitmapImage(C[0],{x:71,y:71},0),B=u.makeBitmapImage("word_prize",{x:75,y:137}),j=new createjs.Shape,F=u.makeBitmapImage(C[1],{x:75,y:138},0);O.graphics.beginFill("#ff0000").drawRect(0,0,100,100);o.name="maskContainer";A.name="clickContainer";_.name="icon";H.name="iconReveal";m.name="shimmer";B.name="prize";F.name="prizeAmount";o.addChild(m,P);A.addChild(_,B);L.addChild(M,H,F,A,o);L.x=190+e.getGap()*T;L.y=25;L.num=T+1;s.addChild(L);var I={reveal:y},q=new f(L,{isWinner:w.turn[T].w},I);q.name="gameAsset";E.push(q);A.isRevealed=!1;A.on("click",function(t){u.stopPrompt();a.clickCount++;var n=t.currentTarget;if(n.isRevealed===!1){n.isRevealed=!0;if(n.name==="shimmer")return!1;while(n.parent){if(typeof n.num=="number")break;n=n.parent}if(E[n.num].getIsRevealed()==0){E[n.num].setIsRevealed(!0);var r=E[n.num].getContainer();r.removeChild(r.getChildByName("maskContainer"));E[n.num].reveal("reveal",E[n.num],0);createjs.Sound.play("Pop")}e.isFinished();e.checkMatchOneWin(E[n.num],w.turn[n.num-1])}},null,!0);e.setYourSymbols(E)}s.addChild(p);e.getSlide().addChild(s)}function g(e,t){var n=e.v.split("|"),i=[],s=null;t?s="game2_number"+n[0]:s=u.checkObject(a.GAME1REF,n[0]);var o=u.checkObject(a.PRIZETABLE,n[1]);i=[s,o];if(typeof n=="object")return i;r.IWG.ame("error",{mess:['turnData in game type "matchOne" could not be recognised']})}function y(){if(this.getContainer()){var e=this.getContainer(),t=e.getChildByName("clickContainer").getChildByName("icon"),n=e.getChildByName("iconReveal"),s=e.parent.y,o=e.parent.x,f=e.x,c=e.getChildByName("clickContainer").getChildByName("prize"),h=e.getChildByName("prizeAmount"),p=[],d=t.clone();d.scaleX=d.scaleY=0;d.y=s+71;d.x=o+e.x+d.x;for(var v=0;v<=5;v++){var m=u.makeBitmapImage("shiner",{x:d.x,y:d.y},1);a.LEFTGAMEWINDOW.addChild(m);p.push(m)}TweenLite.to(p[0],.8,{bezier:[{x:d.x,y:d.y},{x:d.x-30,y:d.y-30},{x:d.x-60,y:d.y+30}],alpha:0});TweenLite.to(p[1],.8,{bezier:[{x:d.x,y:d.y},{x:d.x-20,y:d.y-40},{x:d.x-40,y:d.y+30}],alpha:0});TweenLite.to(p[2],.8,{bezier:[{x:d.x,y:d.y},{x:d.x-10,y:d.y-50},{x:d.x-20,y:d.y+30}],alpha:0});TweenLite.to(p[3],.8,{bezier:[{x:d.x,y:d.y},{x:d.x+10,y:d.y-50},{x:d.x+20,y:d.y+30}],alpha:0});TweenLite.to(p[4],.8,{bezier:[{x:d.x,y:d.y},{x:d.x+20,y:d.y-40},{x:d.x+40,y:d.y+30}],alpha:0});TweenLite.to(p[5],.8,{bezier:[{x:d.x,y:d.y},{x:d.x+30,y:d.y-30},{x:d.x+60,y:d.y+30}],alpha:0});TweenLite.to(t,.3,{delay:0,scaleY:0,scaleX:0});TweenLite.to(n,.3,{delay:0,alpha:1});TweenLite.to(d,.3,{delay:0,alpha:.8,scaleY:1.4,scaleX:1.4,y:d.y+20});TweenLite.to(d,.3,{delay:.15,alpha:0});if(c){TweenLite.to(c,.3,{delay:.35,scaleY:0,scaleX:0});TweenLite.to(h,.3,{delay:.35,alpha:1,onStart:function(){createjs.Sound.play("Pop")}})}setTimeout(function(){a.clickCount--;l.RESETPROMPT.param=a.clickCount;i.IWGEM.dispatchEvent(l.RESETPROMPT)},1e3);a.LEFTGAMEWINDOW.addChild(d)}else r.IWG.ame("error",{mess:["couldnt get icon Container - error code 01a1"]})}function b(e){var t=e.getGameID(),n=c.instance.getTicket().params[t],r=null;e.getIsTicketTypeNumber()?r="game2_number"+n:r=u.checkObject(e.getIcons(),n);return r}function w(){createjs.Sound.play("glossy_success_19")}var t,n=e.com.camelot,r=n.core,i=n.iwg,s=i.lib,o=e.com.greensock,u=s.Helper,a=s.R,f=s.GameAsset,l=s.MEvent,c=s.Ticket,h=function(e,t,n,r,i,s,o,u,a,f,l){var c=e,h=t,d=n,v=r,m=null,g=[],y=i,b=o,m=s,w={0:"game1_symbol_bars",1:"game1_symbol_chopper",2:"game1_symbol_coins",3:"game1_symbol_gem",4:"game1_symbol_necklace",5:"game1_symbol_safe"},E=[],S=u,x=a,T=f,N=l,C=null,k=!1,L=[];this.getX=function(){return c};this.getY=function(){return h};this.getGap=function(){return d};this.getSlide=function(){return v};this.getIcon=function(){return y};this.getYourSymbols=function(){return g};this.getWinningSymbol=function(){return m};this.getTicketData=function(){return b};this.getIcons=function(){return w};this.getChances=function(){return E};this.getGameID=function(){return S};this.getInfo=function(){return x};this.getIsTicketTypeNumber=function(){return C};this.getIsFinished=function(){return k};this.getWinningBank=function(){return L};this.getWinningTab=function(){return T};this.getYourTab=function(){return N};this.setX=function(e){c=e};this.setY=function(e){h=e};this.setGap=function(e){d=e};this.setSlide=function(e){v=e};this.setYourSymbols=function(e){g=e};this.setChances=function(e){E=e};this.setIsTicketTypeNumber=function(e){C=e};this.setIsFinished=function(e){k=e};this.setWinningBank=function(e){L=e};p(this)};h.prototype.checkMatchOneWin=function(e,t){var n=t.v.split("|")[1],i=e.getContainer(),s=t.w,o=n,u=this.getYourSymbols();if(u[0].getIsRevealed()===!1){if(s==="1"){r.IWG.ame("bank",{deposit:[n],log:!0});var a=this.getWinningBank();a.push(e);this.setWinningBank(a)}}else if(s==="1"){r.IWG.ame("bank",{deposit:[n],log:!0});var f=i.children[0],l=new TimelineMax({delay:1,repeat:4,yoyo:!0,onStart:w});l.to(f,.7,{alpha:1,ease:"easeIn"})}};h.prototype.checkReveals=function(){var e=this.getWinningBank();for(var t in e){var n=e[t].getContainer(),r=n.children[0],i=new TimelineMax({delay:1,repeat:4,yoyo:!0,onStart:w});i.to(r,.7,{alpha:1,ease:"easeIn"})}};h.prototype.isFinished=function(){var e=this.getYourSymbols(),t=!1;for(var n in e){if(e[n].getIsRevealed()===!1){t=!1;break}t=!0}if(t){this.setIsFinished(!0);i.IWGEM.dispatchEvent(l.CHECKENDGAME)}};i._class("iwg.lib.MatchOne",h)})(window);
