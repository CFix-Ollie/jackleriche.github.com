(function(e){"use strict";function c(e,t,n){var r=e.getTar();switch(e.getOrientation()){case"landscapeflip":r.style.backgroundPositionX=t*2*e.getDragX()+"px";r.style.backgroundPositionY=-n*e.getDragY()+"px";break;case"landscape":r.style.backgroundPositionX=-(t*2)*e.getDragX()+"px";r.style.backgroundPositionY=n*e.getDragY()+"px";break;case"portrait":r.style.backgroundPositionX=n*e.getDragY()+"px";r.style.backgroundPositionY=t*e.getDragX()+"px"}}var t,n=e.com.camelot,r=n.iwg,i=e.com.camelot.core,s=r.lib,o=e.com.greensock,u=s.Helper,a=s.R,f=s.MEvent,l=function(){var e=.5,t=.5,n=!1,r=!1,i=document.getElementById("IWGholder"),s=i.width,o=i.height,u=s/2,a=o/2,f=!1,l=null;this.getDragX=function(){return e};this.getDragY=function(){return t};this.getTar=function(){return i};this.getwH=function(){return o};this.getrX=function(){return u};this.getrY=function(){return a};this.getEnabled=function(){return f};this.getOrientation=function(){return l};this.setEnabled=function(e){typeof e=="boolean"&&(f=e)};this.setOrientation=function(e){if(typeof e=="string"){var t=e.toLowerCase();t.length!=0&&(t==="portrait"||t==="landscape"||t==="landscapeflip"?l=t:console.warn('setOrientation should be set to either "portrait" or "landscape"'))}else console.warn("setOrientation should be of type [string]")};this.doOnOrientationChange()};l.prototype.enabled=function(t){var n=this;this.setEnabled(t);if(this.getEnabled()){var r={};"ondeviceorientation"in e?e.addEventListener("deviceorientation",function(e){r.x=Math.round(e.beta);r.y=Math.round(e.gamma);r.z=Math.round(e.alpha);c(n,r.x,r.y)}):"ondevicemotion"in e&&(e.ondevicemotion=function(e){r.x=Math.round(e.accelerationIncludingGravity.x);r.y=Math.round(e.accelerationIncludingGravity.y);r.z=Math.round(e.accelerationIncludingGravity.z);c(n,r.x,r.y)})}};l.prototype.doOnOrientationChange=function(){var t=this;switch(e.orientation){case-90:t.setOrientation("landscapeFlip");break;case 90:t.setOrientation("landscape");break;default:t.setOrientation("portrait")}e.addEventListener("orientationchange",function(){t.doOnOrientationChange()})};r._class("iwg.lib.ParallaxBG",l)})(window);
